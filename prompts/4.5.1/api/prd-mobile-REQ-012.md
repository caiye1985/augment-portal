## 任务：生成 AI开发助手专用的移动端PRD文档

### 背景与目标
专门针对REQ-020移动端应用模块，基于现有的API文档和需求文档，生成适合AI开发助手使用的移动端专用PRD文档。此文档专门设计为移动端开发的技术规范，包含Flutter开发的完整指导、移动端特有的功能需求、性能优化策略和用户体验设计。

### 前置要求
1. **核心参考文档**：
   - 全局上下文：`docs/global-context.md`
   - 移动端模块 PRD：`docs/prd/split/4.5.1/modules/REQ-012.md` (REQ-020)
   - 移动端 API 文档：`docs/api/4.5.1/modules/REQ-012-系统集成模块/openapi.yaml`
   - Mock 数据规范：`docs/prd/split/4.5.1/globals/05-mock-data-guidelines.md`
   - 技术栈规范：`docs/prd/split/4.5.1/appendix/03-technology-stack.md`

2. **移动端技术约束**：
   - 开发框架：Flutter 3.24.5 + Dart 3.5.4
   - 状态管理：Riverpod 2.6.1
   - 网络层：Dio 5.7.0 + 自定义拦截器
   - 本地存储：Hive 2.2.3 + Drift 2.20.3
   - 依赖注入：get_it 8.0.2
   - 国产化集成：极光推送、高德地图、友盟统计

### 移动端特色需求分析

#### 1. 移动端核心功能
- **离线优先设计**：核心功能离线可用，网络恢复后智能同步
- **原生性能体验**：60fps流畅度，冷启动≤3秒，热启动≤1秒
- **多媒体集成**：相机拍照、视频录制、语音输入、扫码识别
- **地理位置服务**：GPS定位、地图导航、基于位置的智能派单
- **推送通知**：极光推送集成，支持多厂商通道，到达率≥95%
- **生物识别**：指纹、面容ID认证，增强移动端安全性

#### 2. 移动端性能要求
- **启动性能**：冷启动≤3秒，热启动≤1秒，首屏渲染≤2秒
- **运行性能**：界面操作响应≤2秒，API调用响应≤5秒，页面切换≥60fps
- **网络性能**：离线数据同步≤30秒，推送延迟≤10秒，文件上传成功率≥98%
- **资源消耗**：内存使用≤200MB，电池续航优化，CPU使用率≤30%
- **兼容性**：iOS 12+支持率≥95%，Android 8.0+支持率≥95%

#### 3. 移动端用户体验
- **响应式设计**：适配不同屏幕尺寸和分辨率
- **手势交互**：支持滑动、长按、双击等移动端手势
- **无障碍支持**：支持屏幕阅读器、语音控制等无障碍功能
- **国际化支持**：多语言切换、本地化显示

### 实现步骤

#### Step 1：移动端需求特化
1. **功能需求移动化**：
   - 分析原有功能在移动端的实现方式
   - 识别移动端特有的功能需求
   - 确定离线场景的处理策略
   - 设计移动端专用的用户交互流程

2. **技术架构移动化**：
   - 基于Flutter架构设计应用结构
   - 设计状态管理和数据流
   - 规划本地存储和缓存策略
   - 设计网络层和API集成方案

#### Step 2：移动端技术规范
1. **Flutter应用架构**：
   - 分层架构设计（Presentation、Domain、Data）
   - 依赖注入和服务定位
   - 路由管理和页面导航
   - 状态管理和响应式编程

2. **移动端数据管理**：
   - 本地数据库设计（Drift）
   - 缓存策略设计（Hive）
   - 离线数据同步机制
   - 数据安全和加密

3. **移动端集成方案**：
   - 原生功能集成（相机、GPS、推送）
   - 第三方SDK集成（地图、统计、推送）
   - 平台特定功能实现
   - 性能监控和错误追踪

### 输出要求

#### 1. 移动端PRD结构
- **移动端概述**：技术架构、开发框架、核心特性
- **功能需求规格**：移动端特化的功能需求
- **技术架构设计**：Flutter应用架构、数据管理、集成方案
- **用户体验设计**：界面设计、交互设计、性能优化
- **开发指导**：Flutter开发规范、最佳实践、调试测试
- **部署运维**：打包发布、版本管理、监控运维

#### 2. 移动端特色内容
- **离线功能设计**：离线数据管理、同步策略、冲突解决
- **原生功能集成**：相机、GPS、推送、生物识别等
- **性能优化策略**：启动优化、内存管理、电池优化
- **平台适配方案**：iOS/Android差异处理、版本兼容

### 输出格式模板

```markdown
# REQ-020 - 移动端应用模块

## 文档信息
- **模块编号**：REQ-020
- **模块名称**：移动端应用模块
- **文档版本**：4.5.1-MOBILE-PRD
- **生成日期**：[当前日期]
- **文档类型**：AI开发助手专用移动端PRD
- **技术栈**：Flutter 3.24.5 + Dart 3.5.4

## 1. 移动端概述

### 1.1 技术架构定位
[Flutter跨平台架构和技术选型]

### 1.2 核心特性
[移动端特有功能和性能特性]

### 1.3 业务价值
[移动端在整体业务中的价值和定位]

## 2. 移动端功能需求

### 2.1 核心功能移动化
[原有功能在移动端的实现方案]

### 2.2 移动端特有功能
[相机、GPS、推送等移动端专用功能]

### 2.3 离线功能设计
[离线场景的功能设计和数据同步]

## 3. Flutter技术架构

### 3.1 应用架构设计
[Flutter分层架构和模块组织]

### 3.2 状态管理方案
[Riverpod状态管理和数据流设计]

### 3.3 数据管理架构
[本地存储、缓存、同步的技术方案]

### 3.4 网络层设计
[Dio网络层和API集成方案]

## 4. 移动端用户体验

### 4.1 界面设计规范
[移动端UI设计规范和组件库]

### 4.2 交互设计规范
[手势交互、导航设计、反馈机制]

### 4.3 性能体验优化
[启动优化、流畅度优化、资源优化]

## 5. 原生功能集成

### 5.1 多媒体功能
[相机、录音、视频等多媒体功能集成]

### 5.2 地理位置服务
[GPS定位、地图集成、位置服务]

### 5.3 推送通知
[极光推送集成和通知管理]

### 5.4 生物识别
[指纹、面容ID等生物识别集成]

## 6. 开发指导

### 6.1 Flutter开发规范
[代码结构、命名规范、最佳实践]

### 6.2 平台适配指导
[iOS/Android平台差异处理]

### 6.3 性能优化指导
[内存管理、电池优化、网络优化]

## 7. 测试与部署

### 7.1 测试策略
[单元测试、集成测试、UI测试]

### 7.2 打包发布
[iOS/Android打包和发布流程]

### 7.3 版本管理
[版本控制、热更新、回滚策略]

## 8. 监控运维

### 8.1 性能监控
[应用性能监控和错误追踪]

### 8.2 用户行为分析
[友盟统计和用户行为分析]

### 8.3 崩溃分析
[崩溃收集和分析处理]
```

### 移动端质量控制
1. **Flutter规范性**：严格遵循Flutter开发最佳实践
2. **性能达标性**：确保满足移动端性能指标要求
3. **平台兼容性**：保证iOS/Android双平台兼容
4. **用户体验一致性**：确保移动端用户体验的一致性
5. **原生集成完整性**：确保原生功能集成的完整性和稳定性

### 重要提示
- **专注移动端特性**：重点关注移动端特有的功能和技术要求
- **Flutter技术栈一致性**：严格遵循Flutter 3.24.5技术栈规范
- **性能优先原则**：确保移动端性能指标的达成
- **用户体验优先**：重视移动端用户体验的设计和优化
