## 📌 Prompt：多份需求文档合并成总库

```markdown
# 角色设定
你是一名资深 IT 产品经理兼系统分析师，精通需求文档整合与格式化，目标是将多个模块的分散 PRD 文档整合为一个统一、无重复、结构一致的《需求总库》。

# 背景
我将提供：
1. 《00-需求文档总览.md》（包含所有模块编号、名称、优先级、模块关系、依赖）
2. 多个模块的完整 PRD 文档（01~19），每份按“业务描述/功能/规则/API/数据模型”等结构。

这些文档存在：
- 结构格式略有差异
- 字段命名、接口命名风格不统一
- 跨模块有重复或冲突的描述
- 模块依赖信息不完整

# 目标
将所有文档统一整合为《需求总库 vX.Y》（Single Source of Truth, SSoT），并满足以下要求：

## 整合规则
1. **统一结构和章节顺序**：
   - 模块编号与名称
   - 业务描述（精炼合并后的背景、目标、流程）
   - 功能清单（表格形式，编号、名称、优先级、描述）
   - 业务规则
   - 用户故事
   - 用例（Given/When/Then）
   - 数据模型（ER 图和字段字典）
   - API规范（URL、方法、请求参数、响应、必填规则）
   - 非功能需求（性能、可用性、安全、扩展，有量化目标）
   - 验收标准
   - 依赖与约束
   - 版本信息

2. **消除重复与冲突**：
   - 如果多个文档中有相同功能/规则/API，保留唯一权威版本，合并细节
   - 如果发现命名差异（如 invoiceId 与 invoice_id），统一为 camelCase【或指定风格】，并记录在“命名统一表”

3. **补全依赖关系**：
   - 跨模块引用必须在依赖章节标明
   - 在总览表中生成一张模块依赖清单

4. **保留必要的上下文简述**：
   - 业务背景需简短说明（最多5行），足够支撑理解功能场景即可
   - 删除重复的价值陈述、ROI、市场竞争力描述

5. **可机读**：
   - 保证所有表格的列名一致
   - API 与数据模型使用 JSON 或表格表示
   - Mermaid 图用代码块保存

## 输出格式

# 需求总库 vX.Y

## 模块总览表
| 模块编号 | 模块名称 | 优先级 | 依赖模块 | 实现状态 |

---

## REQ-001 模块名称
### 1. 业务描述
...
### 2. 功能清单
| 功能编号 | 功能名称 | 优先级 | 描述 |
...
### 3. 业务规则
...
### 4. 用户故事
...
### 5. 用例
...
### 6. 数据模型
```mermaid
```
数据字典：
| 表名 | 字段名 | 类型 | 长度 | 必填 | 说明 |
...
### 7. API 规范
#### [接口名称]
- URL:
- Method:
- 请求：
```json
```
- 响应：
```json
```
- 必填验证：

### 8. 非功能需求
...

### 9. 验收标准
...

### 10. 依赖与约束
...

---

依次输出 REQ-001 ~ REQ-019 全部模块。

最后输出：

### 命名统一表
| 原命名 | 新命名 | 影响范围 |
...

```

# 输入
首先是《00-需求文档总览.md》：
[粘贴总览文件内容]

然后依次是各模块文档：
[粘贴 01.md 全文]
[粘贴 02.md 全文]
...
[粘贴 19.md 全文]

```

---

## 🔹 使用建议

1. **用 Claude Sonnet 3.5 / GPT‑4.5 / GPT‑5**（上下文够长，可以一次吃完20个文档+总览）
2. 在 Prompt 里设定**统一命名风格**（camelCase / snake_case）提前说明
3. 运行结果就是你的**《需求总库 v1.0》**，后续所有维护都基于这一份，执行版从它派生
4. 输出中自动带**模块总览表**和**命名统一表**，方便后续检索

---

下一步可以这样走：
- **第一步**：你用这个 Prompt 跑一次，把 20 份合并成《需求总库》
- **第二步**：我再给你一个「总库 → AI 执行版派生 Prompt」模板，就能一次生成所有模块的高密度执行版

---

你要我**在下一步直接帮你写“总库 → 执行版 PRD批量生成 Prompt”**吗？这样你完成第一步合并，总库一出来就可以立刻转成 AI 可执行格式。这样两步走就完整闭环了。